#include "alg.h"

static void 
alg_LCG(int *alg)
{
	int n = 1;
	int a = 1103515245;
	int c = 12345;

	for (int i = 0; i < 2000; ++i)
	{
		n = a * n + c;
		//n %= 2147483648;
		n = ((unsigned)(n / 65536) % 32768);
		alg[i] = n % 63; //再取64之内的
	}
}

/* 32 48~57 97~122 65~90 */
void 
generate_char(char *ch)
{
	int alg[2000] = { 0 };
	char arr[63] = {
		32, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57,
		97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109,
		110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122,
		65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77,
		78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90,
	};

	alg_LCG(alg);
	for (int i = 0; i < 2000; i++)    ch[i] = arr[alg[i]];
}
